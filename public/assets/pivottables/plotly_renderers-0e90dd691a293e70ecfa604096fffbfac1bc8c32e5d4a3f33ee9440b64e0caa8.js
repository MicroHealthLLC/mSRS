(function(){(function(t){"object"==typeof exports&&"object"==typeof module?t(require("jquery"),require("plotly.js")):"function"==typeof define&&define.amd?define(["jquery","plotly.js"],t):t(jQuery,Plotly)})(function(j,x){var t,e;return t=function(m,w,b){return null==m&&(m={}),null==w&&(w={}),null==b&&(b=!1),function(s,t){var e,o,n,l,h,r,u,i,a,g,p,y,d,c,f,v;if(r={localeStrings:{vs:"vs",by:"by"},plotly:{},plotlyConfig:{}},t=j.extend(!0,{},r,t),d=s.getRowKeys(),e=s.getColKeys(),0===(v=b?e:d).length&&v.push([]),0===(h=b?d:e).length&&h.push([]),u=s.aggregatorName,s.valAttrs.length&&(u+="("+s.valAttrs.join(", ")+")"),l=v.map(function(t){var e,o,n,l,r,i,a;for(a=[],n=[],o=0,l=h.length;o<l;o++)e=h[o],i=parseFloat(s.getAggregator(b?e:t,b?t:e).value()),a.push(isFinite(i)?i:null),n.push(e.join("-")||" ");return r={name:t.join("-")||u},"pie"===m.type?(r.values=a,r.labels=1<n.length?n:[u]):(r.x=b?a:n,r.y=b?n:a),j.extend(r,m)}),b?(a=s.rowAttrs.join("-"),i=s.colAttrs.join("-")):(a=s.colAttrs.join("-"),i=s.rowAttrs.join("-")),f=u,""!==a&&(f+=" "+t.localeStrings.vs+" "+a),""!==i&&(f+=" "+t.localeStrings.by+" "+i),p={title:f,hovermode:"closest",width:window.innerWidth/1.4,height:window.innerHeight/1.4-50},"pie"===m.type){for(g in o=Math.ceil(Math.sqrt(l.length)),c=Math.ceil(l.length/o),p.grid={columns:o,rows:c},l)(n=l[g]).domain={row:Math.floor(g/o),column:g-o*Math.floor(g/o)},1<l.length&&(n.title=n.name);1===l[0].labels.length&&(p.showlegend=!1)}else p.xaxis={title:b?u:null,automargin:!0},p.yaxis={title:b?null:u,automargin:!0};return y=j("<div>").appendTo(j("body")),x.newPlot(y[0],l,j.extend(p,w,t.plotly),t.plotlyConfig),y.detach()}},e=function(){return function(t,e){var o,n,l,r,i,a,s,h,u,g,p,y,d,c;for(r={localeStrings:{vs:"vs",by:"by"},plotly:{},plotlyConfig:{}},e=j.extend(!0,{},r,e),0===(d=t.getRowKeys()).length&&d.push([]),0===(n=t.getColKeys()).length&&n.push([]),l={x:[],y:[],text:[],type:"scatter",mode:"markers"},i=0,h=d.length;i<h;i++)for(y=d[i],a=0,u=n.length;a<u;a++)o=n[a],null!=(c=t.getAggregator(y,o).value())&&(l.x.push(o.join("-")),l.y.push(y.join("-")),l.text.push(c));return s={title:t.rowAttrs.join("-")+" vs "+t.colAttrs.join("-"),hovermode:"closest",xaxis:{title:t.colAttrs.join("-"),automargin:!0},yaxis:{title:t.rowAttrs.join("-"),automargin:!0},width:window.innerWidth/1.5,height:window.innerHeight/1.4-50},g=j("<div>",{style:"display:none;"}).appendTo(j("body")),p=j("<div>").appendTo(g),x.newPlot(p[0],[l],j.extend(s,e.plotly),e.plotlyConfig),p.detach(),g.remove(),p}},j.pivotUtilities.plotly_renderers={"Horizontal Bar Chart":t({type:"bar",orientation:"h"},{barmode:"group"},!0),"Horizontal Stacked Bar Chart":t({type:"bar",orientation:"h"},{barmode:"relative"},!0),"Bar Chart":t({type:"bar"},{barmode:"group"}),"Stacked Bar Chart":t({type:"bar"},{barmode:"relative"}),"Line Chart":t(),"Area Chart":t({stackgroup:1}),"Scatter Chart":e(),"Multiple Pie Chart":t({type:"pie",scalegroup:1,hoverinfo:"label+value",textinfo:"none"},{},!0)}})}).call(this);